(this.webpackJsonpgui=this.webpackJsonpgui||[]).push([[0],{113:function(e,t,a){e.exports=a(216)},118:function(e,t,a){},119:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),l=(a(118),a(119),a(120),a(44)),o=a(45),s=a(53),u=a(54),d=a(222),h=a(218),m=a(102),p=a(89),f=a.n(p);var g=function(e){return r.a.createElement("div",{className:"list-container"},r.a.createElement(f.a,{className:"recipe-list",initialLoad:!1,pageStart:0,hasMore:e.hasMore,useWindow:!1,loadMore:e.onLoadMore,prefill:!0},r.a.createElement(d.b,{dataSource:e.list,renderItem:function(t,a){return r.a.createElement(d.b.Item,null,r.a.createElement(d.b.Item.Meta,{avatar:r.a.createElement(h.a,{src:t.picture_link}),title:r.a.createElement("a",{onClick:e.onClick(a)},t.title),description:""}))}},e.isLoading&&r.a.createElement("div",{className:"demo-loading-container"},r.a.createElement(m.a,null))," ")))};function E(e){return e.split(/\r?\n/).map((function(e,t){return"".concat(t+1,". ").concat(e)})).join("\n")}var v=function(e){return e.recipe?r.a.createElement("div",{className:"instructions"},r.a.createElement("h1",null," ",e.recipe.title),r.a.createElement("h3",null,"ingredients: "),r.a.createElement("p",null,E(e.recipe.ingredients.map((function(e){return"".concat(e.quantity," ").concat(e.ingredient)})).join("\n"))),r.a.createElement("h3",null,"Instructions: "),r.a.createElement("p",null,E(e.recipe.instructions))):r.a.createElement("div",null,r.a.createElement("h2",null,"No recipe selected"))},b=a(219),k=a(220),y=a(221),C=a(39),S=a(223),w=a(64),j=a(32),L=a.n(j);L.a.defaults.xsrfHeaderName="X-CSRFTOKEN",L.a.defaults.xsrfCookieName="csrftoken";var M=S.a.TextArea,N=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleFake=function(e){L.a.get("http://localhost:8000/api/allrecipes",{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).then((function(e){return n.props.callback(e)}))},n.state={value:""},n.handleChange=n.handleChange.bind(Object(C.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(C.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("A text was submitted: "+this.state.value);var a={headers:{"Content-Type":"application/json"},data:{start:0,end:4,ing_arr:this.state.value.split(/[\n,]+/)}};L.a.post("http://localhost:8000/api/ing_query",a).then((function(e){return e.data})).then((function(e){return t.props.callback(e)}))}},{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("div",{className:"ing-input"},r.a.createElement("h2",null,"Input ingredients here"),r.a.createElement("p",null,"separated by commas or new lines"),r.a.createElement(M,{placeholder:"Input ingredients here",className:"ing-text",rows:15,onChange:this.handleChange}),r.a.createElement(w.a,{type:"primary",htmlType:"submit",onClick:this.handleSubmit},"Get Recipes!"),r.a.createElement(w.a,{type:"primary",onClick:this.handleFake},"LoadAll")))}}]),a}(r.a.Component),O=4,x=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=function(e){L()("http://localhost:8000/api/slicerecipes?start=".concat(n.state.curr,"&count=").concat(O)).then((function(t){return e(t.data)}))},n.onLoadMore=function(){console.log("loading more"),n.setState({isLoading:!0,curr:n.state.curr+O}),n.getData((function(e){Array.isArray(e)&&e.length||(n.setState({hasMore:!1}),console.log("received all "));var t=n.state.data.concat(e);n.setState({data:t,list:t,loading:!1},(function(){window.dispatchEvent(new Event("resize"))})),console.log("curr")})),n.setState({isLoading:!1})},n.setList=function(e){n.setState({list:e})},n.state={initLoading:!0,isLoading:!1,data:[],list:[],curr:0,selectedRecipe:2,hasMore:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;O=10,this.getData((function(t){e.setState({initLoading:!1,data:t,list:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{fluid:!0},r.a.createElement(k.a,null,r.a.createElement(y.a,{xs:3},r.a.createElement(N,{callback:this.setList,className:"ing-input"})),r.a.createElement(y.a,{xs:4},r.a.createElement(g,{onLoadMore:this.onLoadMore,list:this.state.list,onClick:function(t){return function(){return e.setState({selectedRecipe:t})}},hasMore:this.state.hasMore})),r.a.createElement(y.a,null,r.a.createElement(v,{recipe:this.state.list[this.state.selectedRecipe]}))))}}]),a}(r.a.Component);var I=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(215);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[113,1,2]]]);
//# sourceMappingURL=main.1649b739.chunk.js.map